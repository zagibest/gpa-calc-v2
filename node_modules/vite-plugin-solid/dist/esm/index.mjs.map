{"version":3,"file":"index.mjs","sources":["../../node_modules/.pnpm/is-what@3.14.1/node_modules/is-what/dist/index.esm.js","../../node_modules/.pnpm/merge-anything@4.0.1/node_modules/merge-anything/dist/index.esm.js","../../node_modules/.pnpm/solid-refresh@0.2.1_solid-js@1.0.0/node_modules/solid-refresh/babel.js","../../src/index.ts"],"sourcesContent":["/**\r\n * Returns the object type of the given payload\r\n *\r\n * @param {*} payload\r\n * @returns {string}\r\n */\r\nfunction getType(payload) {\r\n    return Object.prototype.toString.call(payload).slice(8, -1);\r\n}\r\n/**\r\n * Returns whether the payload is undefined\r\n *\r\n * @param {*} payload\r\n * @returns {payload is undefined}\r\n */\r\nfunction isUndefined(payload) {\r\n    return getType(payload) === 'Undefined';\r\n}\r\n/**\r\n * Returns whether the payload is null\r\n *\r\n * @param {*} payload\r\n * @returns {payload is null}\r\n */\r\nfunction isNull(payload) {\r\n    return getType(payload) === 'Null';\r\n}\r\n/**\r\n * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is PlainObject}\r\n */\r\nfunction isPlainObject(payload) {\r\n    if (getType(payload) !== 'Object')\r\n        return false;\r\n    return payload.constructor === Object && Object.getPrototypeOf(payload) === Object.prototype;\r\n}\r\n/**\r\n * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is PlainObject}\r\n */\r\nfunction isObject(payload) {\r\n    return isPlainObject(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a an empty object (excluding special classes or objects with other prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is { [K in any]: never }}\r\n */\r\nfunction isEmptyObject(payload) {\r\n    return isPlainObject(payload) && Object.keys(payload).length === 0;\r\n}\r\n/**\r\n * Returns whether the payload is a an empty object (excluding special classes or objects with other prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is PlainObject}\r\n */\r\nfunction isFullObject(payload) {\r\n    return isPlainObject(payload) && Object.keys(payload).length > 0;\r\n}\r\n/**\r\n * Returns whether the payload is an any kind of object (including special classes or objects with different prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is PlainObject}\r\n */\r\nfunction isAnyObject(payload) {\r\n    return getType(payload) === 'Object';\r\n}\r\n/**\r\n * Returns whether the payload is an object like a type passed in < >\r\n *\r\n * Usage: isObjectLike<{id: any}>(payload) // will make sure it's an object and has an `id` prop.\r\n *\r\n * @template T this must be passed in < >\r\n * @param {*} payload\r\n * @returns {payload is T}\r\n */\r\nfunction isObjectLike(payload) {\r\n    return isAnyObject(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a function (regular or async)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is AnyFunction}\r\n */\r\nfunction isFunction(payload) {\r\n    return typeof payload === 'function';\r\n}\r\n/**\r\n * Returns whether the payload is an array\r\n *\r\n * @param {any} payload\r\n * @returns {payload is any[]}\r\n */\r\nfunction isArray(payload) {\r\n    return getType(payload) === 'Array';\r\n}\r\n/**\r\n * Returns whether the payload is a an array with at least 1 item\r\n *\r\n * @param {*} payload\r\n * @returns {payload is any[]}\r\n */\r\nfunction isFullArray(payload) {\r\n    return isArray(payload) && payload.length > 0;\r\n}\r\n/**\r\n * Returns whether the payload is a an empty array\r\n *\r\n * @param {*} payload\r\n * @returns {payload is []}\r\n */\r\nfunction isEmptyArray(payload) {\r\n    return isArray(payload) && payload.length === 0;\r\n}\r\n/**\r\n * Returns whether the payload is a string\r\n *\r\n * @param {*} payload\r\n * @returns {payload is string}\r\n */\r\nfunction isString(payload) {\r\n    return getType(payload) === 'String';\r\n}\r\n/**\r\n * Returns whether the payload is a string, BUT returns false for ''\r\n *\r\n * @param {*} payload\r\n * @returns {payload is string}\r\n */\r\nfunction isFullString(payload) {\r\n    return isString(payload) && payload !== '';\r\n}\r\n/**\r\n * Returns whether the payload is ''\r\n *\r\n * @param {*} payload\r\n * @returns {payload is string}\r\n */\r\nfunction isEmptyString(payload) {\r\n    return payload === '';\r\n}\r\n/**\r\n * Returns whether the payload is a number (but not NaN)\r\n *\r\n * This will return `false` for `NaN`!!\r\n *\r\n * @param {*} payload\r\n * @returns {payload is number}\r\n */\r\nfunction isNumber(payload) {\r\n    return getType(payload) === 'Number' && !isNaN(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a boolean\r\n *\r\n * @param {*} payload\r\n * @returns {payload is boolean}\r\n */\r\nfunction isBoolean(payload) {\r\n    return getType(payload) === 'Boolean';\r\n}\r\n/**\r\n * Returns whether the payload is a regular expression (RegExp)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is RegExp}\r\n */\r\nfunction isRegExp(payload) {\r\n    return getType(payload) === 'RegExp';\r\n}\r\n/**\r\n * Returns whether the payload is a Map\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Map<any, any>}\r\n */\r\nfunction isMap(payload) {\r\n    return getType(payload) === 'Map';\r\n}\r\n/**\r\n * Returns whether the payload is a WeakMap\r\n *\r\n * @param {*} payload\r\n * @returns {payload is WeakMap<any, any>}\r\n */\r\nfunction isWeakMap(payload) {\r\n    return getType(payload) === 'WeakMap';\r\n}\r\n/**\r\n * Returns whether the payload is a Set\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Set<any>}\r\n */\r\nfunction isSet(payload) {\r\n    return getType(payload) === 'Set';\r\n}\r\n/**\r\n * Returns whether the payload is a WeakSet\r\n *\r\n * @param {*} payload\r\n * @returns {payload is WeakSet<any>}\r\n */\r\nfunction isWeakSet(payload) {\r\n    return getType(payload) === 'WeakSet';\r\n}\r\n/**\r\n * Returns whether the payload is a Symbol\r\n *\r\n * @param {*} payload\r\n * @returns {payload is symbol}\r\n */\r\nfunction isSymbol(payload) {\r\n    return getType(payload) === 'Symbol';\r\n}\r\n/**\r\n * Returns whether the payload is a Date, and that the date is valid\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Date}\r\n */\r\nfunction isDate(payload) {\r\n    return getType(payload) === 'Date' && !isNaN(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a Blob\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Blob}\r\n */\r\nfunction isBlob(payload) {\r\n    return getType(payload) === 'Blob';\r\n}\r\n/**\r\n * Returns whether the payload is a File\r\n *\r\n * @param {*} payload\r\n * @returns {payload is File}\r\n */\r\nfunction isFile(payload) {\r\n    return getType(payload) === 'File';\r\n}\r\n/**\r\n * Returns whether the payload is a Promise\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Promise<any>}\r\n */\r\nfunction isPromise(payload) {\r\n    return getType(payload) === 'Promise';\r\n}\r\n/**\r\n * Returns whether the payload is an Error\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Error}\r\n */\r\nfunction isError(payload) {\r\n    return getType(payload) === 'Error';\r\n}\r\n/**\r\n * Returns whether the payload is literally the value `NaN` (it's `NaN` and also a `number`)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is typeof NaN}\r\n */\r\nfunction isNaNValue(payload) {\r\n    return getType(payload) === 'Number' && isNaN(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a primitive type (eg. Boolean | Null | Undefined | Number | String | Symbol)\r\n *\r\n * @param {*} payload\r\n * @returns {(payload is boolean | null | undefined | number | string | symbol)}\r\n */\r\nfunction isPrimitive(payload) {\r\n    return (isBoolean(payload) ||\r\n        isNull(payload) ||\r\n        isUndefined(payload) ||\r\n        isNumber(payload) ||\r\n        isString(payload) ||\r\n        isSymbol(payload));\r\n}\r\n/**\r\n * Returns true whether the payload is null or undefined\r\n *\r\n * @param {*} payload\r\n * @returns {(payload is null | undefined)}\r\n */\r\nvar isNullOrUndefined = isOneOf(isNull, isUndefined);\r\nfunction isOneOf(a, b, c, d, e) {\r\n    return function (value) {\r\n        return a(value) || b(value) || (!!c && c(value)) || (!!d && d(value)) || (!!e && e(value));\r\n    };\r\n}\r\n/**\r\n * Does a generic check to check that the given payload is of a given type.\r\n * In cases like Number, it will return true for NaN as NaN is a Number (thanks javascript!);\r\n * It will, however, differentiate between object and null\r\n *\r\n * @template T\r\n * @param {*} payload\r\n * @param {T} type\r\n * @throws {TypeError} Will throw type error if type is an invalid type\r\n * @returns {payload is T}\r\n */\r\nfunction isType(payload, type) {\r\n    if (!(type instanceof Function)) {\r\n        throw new TypeError('Type must be a function');\r\n    }\r\n    if (!Object.prototype.hasOwnProperty.call(type, 'prototype')) {\r\n        throw new TypeError('Type is not a class');\r\n    }\r\n    // Classes usually have names (as functions usually have names)\r\n    var name = type.name;\r\n    return getType(payload) === name || Boolean(payload && payload.constructor === type);\r\n}\n\nexport { getType, isAnyObject, isArray, isBlob, isBoolean, isDate, isEmptyArray, isEmptyObject, isEmptyString, isError, isFile, isFullArray, isFullObject, isFullString, isFunction, isMap, isNaNValue, isNull, isNullOrUndefined, isNumber, isObject, isObjectLike, isOneOf, isPlainObject, isPrimitive, isPromise, isRegExp, isSet, isString, isSymbol, isType, isUndefined, isWeakMap, isWeakSet };\n","import { isArray, isPlainObject, isSymbol } from 'is-what';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\n\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\nfunction concatArrays(originVal, newVal) {\r\n    if (isArray(originVal) && isArray(newVal)) {\r\n        // concat logic\r\n        return originVal.concat(newVal);\r\n    }\r\n    return newVal; // always return newVal as fallback!!\r\n}\n\nfunction assignProp(carry, key, newVal, originalObject) {\r\n    var propType = {}.propertyIsEnumerable.call(originalObject, key)\r\n        ? 'enumerable'\r\n        : 'nonenumerable';\r\n    if (propType === 'enumerable')\r\n        carry[key] = newVal;\r\n    if (propType === 'nonenumerable') {\r\n        Object.defineProperty(carry, key, {\r\n            value: newVal,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true,\r\n        });\r\n    }\r\n}\r\nfunction mergeRecursively(origin, newComer, compareFn) {\r\n    // always return newComer if its not an object\r\n    if (!isPlainObject(newComer))\r\n        return newComer;\r\n    // define newObject to merge all values upon\r\n    var newObject = {};\r\n    if (isPlainObject(origin)) {\r\n        var props_1 = Object.getOwnPropertyNames(origin);\r\n        var symbols_1 = Object.getOwnPropertySymbols(origin);\r\n        newObject = __spreadArray(__spreadArray([], props_1), symbols_1).reduce(function (carry, key) {\r\n            var targetVal = origin[key];\r\n            if ((!isSymbol(key) && !Object.getOwnPropertyNames(newComer).includes(key)) ||\r\n                (isSymbol(key) && !Object.getOwnPropertySymbols(newComer).includes(key))) {\r\n                assignProp(carry, key, targetVal, origin);\r\n            }\r\n            return carry;\r\n        }, {});\r\n    }\r\n    // newObject has all properties that newComer hasn't\r\n    var props = Object.getOwnPropertyNames(newComer);\r\n    var symbols = Object.getOwnPropertySymbols(newComer);\r\n    var result = __spreadArray(__spreadArray([], props), symbols).reduce(function (carry, key) {\r\n        // re-define the origin and newComer as targetVal and newVal\r\n        var newVal = newComer[key];\r\n        var targetVal = isPlainObject(origin) ? origin[key] : undefined;\r\n        // When newVal is an object do the merge recursively\r\n        if (targetVal !== undefined && isPlainObject(newVal)) {\r\n            newVal = mergeRecursively(targetVal, newVal, compareFn);\r\n        }\r\n        var propToAssign = compareFn ? compareFn(targetVal, newVal, key) : newVal;\r\n        assignProp(carry, key, propToAssign, newComer);\r\n        return carry;\r\n    }, newObject);\r\n    return result;\r\n}\r\n/**\r\n * Merge anything recursively.\r\n * Objects get merged, special objects (classes etc.) are re-assigned \"as is\".\r\n * Basic types overwrite objects or other basic types.\r\n * @param object\r\n * @param otherObjects\r\n */\r\nfunction merge(object) {\r\n    var otherObjects = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        otherObjects[_i - 1] = arguments[_i];\r\n    }\r\n    return otherObjects.reduce(function (result, newComer) {\r\n        return mergeRecursively(result, newComer);\r\n    }, object);\r\n}\r\nfunction mergeAndCompare(compareFn, object) {\r\n    var otherObjects = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        otherObjects[_i - 2] = arguments[_i];\r\n    }\r\n    return otherObjects.reduce(function (result, newComer) {\r\n        return mergeRecursively(result, newComer, compareFn);\r\n    }, object);\r\n}\r\nfunction mergeAndConcat(object) {\r\n    var otherObjects = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        otherObjects[_i - 1] = arguments[_i];\r\n    }\r\n    return otherObjects.reduce(function (result, newComer) {\r\n        return mergeRecursively(result, newComer, concatArrays);\r\n    }, object);\r\n}\n\nexport { concatArrays, merge, mergeAndCompare, mergeAndConcat };\n","module.exports = ({ types: t }) => {\n  return {\n    name: \"Solid Refresh\",\n    visitor: {\n      ExportDefaultDeclaration(path, { opts }) {\n        if (path.hub.file.metadata.processedHot) return;\n        if (\n          path.hub.file.opts.parserOpts.sourceFileName &&\n          !path.hub.file.opts.parserOpts.sourceFileName.endsWith(\".jsx\") &&\n          !path.hub.file.opts.parserOpts.sourceFileName.endsWith(\".tsx\")\n        )\n          return;\n        if (opts.bundler === \"vite\") opts.bundler = \"esm\";\n        path.hub.file.metadata.processedHot = true;\n        const decl = path.node.declaration;\n        const HotComponent = t.identifier(\"$HotComponent\");\n        const HotImport = t.identifier(\"_$hot\");\n        const pathToHot =\n          opts.bundler !== \"esm\"\n            ? t.memberExpression(t.identifier(\"module\"), t.identifier(\"hot\"))\n            : t.memberExpression(\n                t.memberExpression(t.identifier(\"import\"), t.identifier(\"meta\")),\n                t.identifier(\"hot\")\n              );\n        const rename = t.variableDeclaration(\"const\", [\n          t.variableDeclarator(\n            HotComponent,\n            t.isFunctionDeclaration(decl)\n              ? t.functionExpression(decl.id, decl.params, decl.body)\n              : decl\n          )\n        ]);\n        let replacement;\n        if (opts.bundler === \"esm\") {\n          const handlerId = t.identifier(\"_$handler\");\n          const componentId = t.identifier(\"_$Component\");\n          replacement = [\n            t.importDeclaration(\n              [t.importSpecifier(HotImport, t.identifier(opts.bundler || \"standard\"))],\n              t.stringLiteral(\"solid-refresh\")\n            ),\n            t.exportNamedDeclaration(rename),\n            t.variableDeclaration(\"const\", [\n              t.variableDeclarator(\n                t.objectPattern([\n                  t.objectProperty(handlerId, handlerId, false, true),\n                  t.objectProperty(componentId, componentId, false, true)\n                ]),\n                t.callExpression(HotImport, [\n                  HotComponent,\n                  t.unaryExpression(\"!\", t.unaryExpression(\"!\", pathToHot))\n                ])\n              )\n            ]),\n            t.ifStatement(\n              pathToHot,\n              t.expressionStatement(\n                t.callExpression(t.memberExpression(pathToHot, t.identifier(\"accept\")), [handlerId])\n              )\n            ),\n            t.exportDefaultDeclaration(componentId)\n          ];\n        } else {\n          replacement = [\n            t.importDeclaration(\n              [t.importSpecifier(HotImport, t.identifier(opts.bundler || \"standard\"))],\n              t.stringLiteral(\"solid-refresh\")\n            ),\n            rename,\n            t.exportDefaultDeclaration(t.callExpression(HotImport, [HotComponent, pathToHot]))\n          ];\n        }\n\n        path.replaceWithMultiple(replacement).forEach(declaration => path.scope.registerDeclaration(declaration));\n      }\n    }\n  };\n};\n","import { transformAsync, TransformOptions } from '@babel/core';\nimport ts from '@babel/preset-typescript';\nimport solid from 'babel-preset-solid';\nimport { readFileSync } from 'fs';\nimport { mergeAndConcat } from 'merge-anything';\nimport { createRequire } from 'module';\nimport solidRefresh from 'solid-refresh/babel';\nimport type { Alias, AliasOptions, Plugin, UserConfig } from 'vite';\n\nconst require = createRequire(import.meta.url);\n\nconst runtimePublicPath = '/@solid-refresh';\nconst runtimeFilePath = require.resolve('solid-refresh/dist/solid-refresh.mjs');\nconst runtimeCode = readFileSync(runtimeFilePath, 'utf-8');\n\n/** Configuration options for vite-plugin-solid. */\nexport interface Options {\n  /**\n   * This will inject solid-js/dev in place of solid-js in dev mode. Has no\n   * effect in prod. If set to `false`, it won't inject it in dev. This is\n   * useful for extra logs and debugging.\n   *\n   * @default true\n   */\n  dev: boolean;\n  /**\n   * This will force SSR code in the produced files. This is experiemental\n   * and mostly not working yet.\n   *\n   * @default false\n   */\n  ssr: boolean;\n  /**\n   * This will inject HMR runtime in dev mode. Has no effect in prod. If\n   * set to `false`, it won't inject the runtime in dev.\n   *\n   * @default true\n   */\n  hot: boolean;\n  /**\n   * Pass any additional babel transform options. They will be merged with\n   * the transformations required by Solid.\n   *\n   * @default {}\n   */\n  babel:\n    | TransformOptions\n    | ((source: string, id: string, ssr: boolean) => TransformOptions)\n    | ((source: string, id: string, ssr: boolean) => Promise<TransformOptions>);\n  /**\n   * Pass any additional [babel-plugin-jsx-dom-expressions](https://github.com/ryansolid/dom-expressions/tree/main/packages/babel-plugin-jsx-dom-expressions#plugin-options).\n   * They will be merged with the defaults sets by [babel-preset-solid](https://github.com/solidjs/solid/blob/main/packages/babel-preset-solid/index.js#L8-L25).\n   *\n   * @default {}\n   */\n  solid: {\n    /**\n     * The name of the runtime module to import the methods from.\n     *\n     * @default \"solid-js/web\"\n     */\n    moduleName?: string;\n\n    /**\n     * The output mode of the compiler.\n     * Can be:\n     * - \"dom\" is standard output\n     * - \"ssr\" is for server side rendering of strings.\n     *\n     * @default \"dom\"\n     */\n    generate?: 'ssr' | 'dom';\n\n    /**\n     * Indicate whether the output should contain hydratable markers.\n     *\n     * @default false\n     */\n    hydratable?: boolean;\n\n    /**\n     * Boolean to indicate whether to enable automatic event delegation on camelCase.\n     *\n     * @default true\n     */\n    delegateEvents?: boolean;\n\n    /**\n     * Boolean indicates whether smart conditional detection should be used.\n     * This optimizes simple boolean expressions and ternaries in JSX.\n     *\n     * @default true\n     */\n    wrapConditionals?: boolean;\n\n    /**\n     * Boolean indicates whether to set current render context on Custom Elements and slots.\n     * Useful for seemless Context API with Web Components.\n     *\n     * @default true\n     */\n    contextToCustomElements?: boolean;\n\n    /**\n     * Array of Component exports from module, that aren't included by default with the library.\n     * This plugin will automatically import them if it comes across them in the JSX.\n     *\n     * @default [\"For\",\"Show\",\"Switch\",\"Match\",\"Suspense\",\"SuspenseList\",\"Portal\",\"Index\",\"Dynamic\",\"ErrorBoundary\"]\n     */\n    builtIns?: string[];\n  };\n}\n\nexport default function solidPlugin(options: Partial<Options> = {}): Plugin {\n  let needHmr = false;\n\n  return {\n    name: 'solid',\n    enforce: 'pre',\n\n    config(userConfig, { command }): UserConfig {\n      // We inject the dev mode only if the user explicitely wants it or if we are in dev (serve) mode\n      const replaceDev = options.dev === true || (options.dev !== false && command === 'serve');\n\n      // TODO: remove when fully removed from vite\n      const legacyAlias = normalizeAliases(userConfig.alias);\n\n      if (!userConfig.resolve) userConfig.resolve = {};\n      userConfig.resolve.alias = [...legacyAlias, ...normalizeAliases(userConfig.resolve?.alias)];\n\n      const nestedDeps = [\n        'solid-js',\n        'solid-js/web',\n        'solid-js/store',\n        'solid-js/html',\n        'solid-js/h',\n      ];\n\n      return mergeAndConcat(userConfig, {\n        /**\n         * We only need esbuild on .ts or .js files.\n         * .tsx & .jsx files are handled by us\n         */\n        esbuild: { include: /\\.ts$/ },\n        resolve: {\n          conditions: ['solid', ...(replaceDev ? ['development'] : [])],\n          dedupe: nestedDeps,\n          alias: [{ find: /^solid-refresh$/, replacement: runtimePublicPath }],\n        },\n        optimizeDeps: {\n          include: nestedDeps,\n        },\n      }) as UserConfig;\n    },\n\n    configResolved(config) {\n      needHmr = config.command === 'serve' && !config.isProduction && options.hot !== false;\n    },\n\n    resolveId(id) {\n      if (id === runtimePublicPath) return id;\n    },\n\n    load(id) {\n      if (id === runtimePublicPath) return runtimeCode;\n    },\n\n    async transform(source, id, ssr) {\n      if (!/\\.[jt]sx/.test(id)) return null;\n\n      let solidOptions: { generate: 'ssr' | 'dom'; hydratable: boolean };\n\n      if (options.ssr) {\n        if (ssr) {\n          solidOptions = { generate: 'ssr', hydratable: true };\n        } else {\n          solidOptions = { generate: 'dom', hydratable: true };\n        }\n      } else {\n        solidOptions = { generate: 'dom', hydratable: false };\n      }\n\n      const opts: TransformOptions = {\n        filename: id,\n        presets: [[solid, { ...solidOptions, ...(options.solid || {}) }]],\n        plugins: needHmr ? [[solidRefresh, { bundler: 'vite' }]] : [],\n      };\n\n      if (id.includes('tsx')) {\n        opts.presets.push(ts);\n      }\n\n      // Default value for babel user options\n      let babelUserOptions: TransformOptions = {};\n\n      if (options.babel) {\n        if (typeof options.babel === 'function') {\n          const babelOptions = options.babel(source, id, ssr);\n          babelUserOptions = babelOptions instanceof Promise ? await babelOptions : babelOptions;\n        } else {\n          babelUserOptions = options.babel;\n        }\n      }\n\n      const babelOptions = mergeAndConcat(babelUserOptions, opts) as TransformOptions;\n\n      const { code, map } = await transformAsync(source, babelOptions);\n\n      return { code, map };\n    },\n  };\n}\n\n/**\n * This basically normalize all aliases of the config into\n * the array format of the alias.\n *\n * eg: alias: { '@': 'src/' } => [{ find: '@', replacement: 'src/' }]\n */\nfunction normalizeAliases(alias: AliasOptions = []): Alias[] {\n  return Array.isArray(alias)\n    ? alias\n    : Object.entries(alias).map(([find, replacement]) => ({ find, replacement }));\n}\n"],"names":["getType","payload","Object","prototype","toString","call","slice","isPlainObject","constructor","getPrototypeOf","isArray","isSymbol","__spreadArray","to","from","i","il","length","j","concatArrays","originVal","newVal","concat","assignProp","carry","key","originalObject","propType","propertyIsEnumerable","defineProperty","value","enumerable","writable","configurable","mergeRecursively","origin","newComer","compareFn","newObject","props_1","getOwnPropertyNames","symbols_1","getOwnPropertySymbols","reduce","targetVal","includes","props","symbols","result","undefined","propToAssign","mergeAndConcat","object","otherObjects","_i","arguments","module","types","t","name","visitor","ExportDefaultDeclaration","path","opts","hub","file","metadata","processedHot","parserOpts","sourceFileName","endsWith","bundler","decl","node","declaration","HotComponent","identifier","HotImport","pathToHot","memberExpression","rename","variableDeclaration","variableDeclarator","isFunctionDeclaration","functionExpression","id","params","body","replacement","handlerId","componentId","importDeclaration","importSpecifier","stringLiteral","exportNamedDeclaration","objectPattern","objectProperty","callExpression","unaryExpression","ifStatement","expressionStatement","exportDefaultDeclaration","replaceWithMultiple","forEach","scope","registerDeclaration","require","createRequire","import","meta","url","runtimePublicPath","runtimeFilePath","resolve","runtimeCode","readFileSync","solidPlugin","options","needHmr","enforce","config","userConfig","command","replaceDev","dev","legacyAlias","normalizeAliases","alias","nestedDeps","esbuild","include","conditions","dedupe","find","optimizeDeps","configResolved","isProduction","hot","resolveId","load","transform","source","ssr","test","solidOptions","generate","hydratable","filename","presets","solid","plugins","solidRefresh","push","ts","babelUserOptions","babel","babelOptions","Promise","code","map","transformAsync","Array","entries"],"mappings":"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"}