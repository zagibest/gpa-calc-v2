'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var solidJs = require('solid-js');

function hot$1(Comp, hot) {
  if (hot) {
    const [comp, setComp] = solidJs.createSignal(Comp);
    const prev = hot.data;
    if (prev && prev.setComp) {
      prev.setComp(() => Comp);
    }
    hot.dispose(data => (data.setComp = prev ? prev.setComp : setComp));
    hot.accept();
    let c;
    return new Proxy(props => solidJs.createMemo(() => (c = comp()) && solidJs.untrack(() => c(props))), {
      get(_, property) {
        return comp()[property];
      }
    });
  }
  return Comp;
}

function hot(Comp, isHot) {
  let _$Component = Comp;
  function _$handler(newModule) {
    newModule.$HotComponent.setComp = Comp.setComp;
    Comp.setComp(() => newModule.$HotComponent);
  }
  if (isHot) {
    const [comp, setComp] = solidJs.createSignal(Comp);
    Comp.setComp = setComp;
    let c;
    _$Component = new Proxy(props => solidJs.createMemo(() => (c = comp()) && solidJs.untrack(() => c(props))), {
      get(_, property) {
        return comp()[property];
      }
    });
  }
  return { _$Component, _$handler };
}

exports.esm = hot;
exports.standard = hot$1;
